<!doctype html>
<html lang="fr" data-page="contact">
    <head>
        <meta name="robots" content="noindex, nofollow">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Contact â€“ MaÃ®tre Marie Chareyron</title>
        <meta name="description" content="Contacter le cabinet Ã  Voiron. Adresse, tÃ©lÃ©phone, e-mail et carte Google Maps.">
        <link rel="icon" href="assets/logo-mc.svg">
        <link rel="stylesheet" href="assets/styles.css">
    </head>
    <body>
        <div id="header-placeholder"></div>

        <main class="section container">
            <h2>Contact</h2>
            <div class="grid-2">
      <!-- ===== FORMULAIRE ===== -->
      <form id="contact-form" class="card" action="https://formspree.io/f/xxxxxxxx" method="POST" novalidate>
        <div class="grid-2">
          <div class="input">
            <label for="name">Nom PrÃ©nom*</label>
            <input id="name" name="name" required>
          </div>
          <div class="input">
            <label for="phone">TÃ©lÃ©phone*</label>
            <input id="phone" name="phone" type="tel"
                  inputmode="numeric" placeholder="06 xx xx xx xx"
                  required
                  pattern="^(?:0[1-9](?: ?\d{2}){4}|\+33 ?[1-9](?: ?\d{2}){4})$"
                  title="Format attendu : 06 12 34 56 78 ou +33 6 12 34 56 78">
          </div>
        </div>

        <div class="input">
          <label for="email" data-required="*">E-mail</label>
          <input id="email"
                type="email"
                name="email"
                placeholder="adresse@domaine.fr"
                autocomplete="email"
                required
                pattern="^[^\s@]+@[^\s@]+\.[A-Za-z]{2,}$"
                title="Entrez une adresse e-mail complÃ¨te (ex. nom@domaine.fr)">
        </div>

        <!-- SÃ©lecteur Objet -->
        <div class="input">
          <label for="subject">Objet*</label>
          <select id="subject" name="subject" required>
            <option value="" selected disabled>Choisirâ€¦</option>
            <option>Divorce / sÃ©paration</option>
            <option>Garde dâ€™enfants / pension</option>
            <option>Licenciement / rupture conventionnelle</option>
            <option>HarcÃ¨lement au travail</option>
            <option>Droit pÃ©nal / victime</option>
            <option>Autre</option>
          </select>
        </div>

        <div class="input">
          <label for="message">Message*</label>
          <textarea id="message" name="message" rows="5" required></textarea>
        </div>

        <!-- RGPD -->
        <div class="input rgpd">
          <label for="consent">
            <input id="consent" type="checkbox" name="rgpd_consent" required>
            <span>
              Jâ€™accepte que mes donnÃ©es soient traitÃ©es pour rÃ©pondre Ã  ma demande et jâ€™ai lu la
              <a href="mentions.html#confidentialite" target="_blank" rel="noopener" class="link">politique de confidentialitÃ©</a>.
            </span>
          </label>
        </div>

        <p class="required-note">* Champs obligatoires</p>
        <button id="send-btn" class="btn btn-primary" type="submit">Envoyer</button>
        <p class="lead">Ou Ã©crivez-nous :
          <a href="mailto:contact@cabinet-chareyron.fr">contact@cabinet-chareyron.fr</a>
        </p>

        <!-- Zone statut -->
        <div id="form-status" aria-live="polite" style="margin-top:10px"></div>
      </form>

      <!-- ===== ASIDE ===== -->
      <aside>
        <div class="card">
          <h3>Cabinet</h3>
          <p>ğŸ“ 97 boulevard Franklin Roosevelt, 38500 Voiron</p>
          <p>â˜ï¸ 06 00 00 00 00</p>

          <h4 class="hours-title">ğŸ•’ Horaires dâ€™ouverture</h4>
            <div class="hours-table">
              <div class="day"><span>Lundi</span><span>09:00â€“12:00, 14:00â€“18:00</span></div>
              <div class="day"><span>Mardi</span><span>09:00â€“12:00, 14:00â€“18:00</span></div>
              <div class="day"><span>Mercredi</span><span>09:00â€“12:00, 14:00â€“18:00</span></div>
              <div class="day"><span>Jeudi</span><span>09:00â€“12:00, 14:00â€“18:00</span></div>
              <div class="day"><span>Vendredi</span><span>09:00â€“12:00, 14:00â€“17:00</span></div>
              <div class="day"><span>Samedi / Dimanche</span><span>FermÃ©</span></div>
            </div>


          <iframe class="map" title="Localisation du cabinet" loading="lazy" allowfullscreen
            referrerpolicy="no-referrer-when-downgrade"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2781.3980385427137!2d5.589681475949254!3d45.36622247107147!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x478ae0b3c0a9b0df%3A0x8dbd8c1f474b9a29!2s97%20Bd%20Franklin%20Roosevelt%2C%2038500%20Voiron!5e0!3m2!1sfr!2sfr!4v1731345752000!5m2!1sfr!2sfr"></iframe>
        </div>
      </aside>

    </div>
        </main>

        <div id="footer-placeholder"></div>
        <script src="assets/scripts.js"></script>

  <!-- JS pour mettre en gras le jour actuel dans les horaires -->
  <script>
  (function () {
    const days = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'];
    const today = new Date().getDay();
    const todayName = days[(today + 6) % 7]; // adjust: JS getDay() 0=Sunday, array 0=Monday
    
    const hoursTable = document.querySelector('.hours-table');
    if (hoursTable) {
      const dayElements = hoursTable.querySelectorAll('.day');
      dayElements.forEach(dayEl => {
        const dayText = dayEl.querySelector('span:first-child')?.textContent.trim();
        if (dayText === todayName) {
          dayEl.classList.add('current-day');
        }
      });
    }
  })();
  </script>

  <!-- JS statut d'envoi Formspree -->
  <script>
  (function () {
    const form = document.getElementById('contact-form');
    const status = document.getElementById('form-status');
    const btn = document.getElementById('send-btn');

    function ok(msg){ status.className='alert success'; status.textContent=msg; }
    function err(msg){ status.className='alert error'; status.textContent=msg; }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      if (!document.getElementById('consent').checked) {
        err('Veuillez accepter la politique de confidentialitÃ© (RGPD).');
        return;
      }

      if (!form.checkValidity()) { form.reportValidity(); return; }

      ok('Envoi en coursâ€¦'); btn.disabled = true;

      try {
        const res = await fetch(form.action, {
          method: 'POST',
          body: new FormData(form),
          headers: { 'Accept': 'application/json' }
        });
        if (res.ok) { ok('âœ… Merci, votre message a bien Ã©tÃ© envoyÃ©.'); form.reset(); }
        else {
          const data = await res.json().catch(()=>({}));
          err('âŒ ' + (data?.errors?.[0]?.message || 'Erreur lors de lâ€™envoi. RÃ©essayez.'));
        }
      } catch {
        err('âŒ Erreur rÃ©seau. Merci de rÃ©essayer plus tard.');
      } finally { btn.disabled = false; }
    });
  })();
  </script>

  <!-- Styles dâ€™alerte minimalistes au cas oÃ¹ (peut rester ou passer dans styles.css) -->
  <style>
    .alert{margin-top:8px;padding:10px 12px;border-radius:10px;border:1px solid transparent;font-weight:600}
    .alert.success{background:#ecfdf5;border-color:#a7f3d0;color:#065f46}
    .alert.error{background:#fef2f2;border-color:#fecaca;color:#991b1b}
  </style>
</body>
</html>
